<html>
	<head>
		<title>Tingeltangel - Handbuch</title>
		<style>
			.block {
				background-color: #999999;
				margin-left: 30px;
				padding: 10px;
			}
		</style>
	</head>
	<body>
		<h1>Tingeltangel - Handbuch</h1>
		<h2>Inhalt</h2>
		<a href="#ids">Grundlagen zu IDs</a><br/>
		<a href="#create_book">Beispiel: Eigenes Buch erstellen</a><br/>
		<a href="#entry">Objekt Eintrag</a><br/>
		<a href="#window_right">Rechte Fensterseite</a><br/>
		<a href="#menu">Men&uuml;</a><br/>
		<a href="#scripts">Skripte</a><br/>
		
		
		
		
		<a name="ids"><h2>Grundlagen zu IDs</h2></a>
		Um sich in Tingeltangel zurechtzufinden, sind ein paar wenige Grundkenntnisse n&oouml;tig.
		Voraussetzung zum Verstehen der Grundlagen ist, dass man schon einmal ein Ting-Buch ausprobiert hat.
		<br/>
		Es gibt in Ting-B&uuml;chern verschiedene Codes, die von dem Stift ausgelesen werden k&ouml;nnen. Sie unterteilen sich im wesentlichen in zwei Gruppen:
		<ul>
			<li>
				Media-IDs:<br>
				&nbsp;&nbsp;Das sind die Buch-IDs bzw. die Aktivierungscodes, die sich normalerweise auf der Vorderseite des Buches befinden<br/>
				<br/>
			</li>
			<li>
				Objekt-IDs:<br/>
				&nbsp;&nbsp;IDs bzw. Codes der einzelnen Objekte im Buch selbst
			</li>
		</ul>

		Gleiche Objekt-IDs k&ouml;nnen somit in verschiedenen B&uuml;chern vorkommen.<br/>
		Nicht von jeder ID ist der Code bekannt, d.h. f&uuml;r einige IDs kann keine Code erzeugt werden. Bekannt sind im
		Moment die IDs 0-1134 und 4716-19443. Diese IDs sollten f&uuml;r die meisten Zwecke ausreichend sein.<br/>
		<br/>
		<b>Media-IDs</b><br/>
		Media-IDs liegen in dem Bereich 1-10000 wobei nicht jede beliebige ID genutzt werden kann, da sie u.U. schon von einem
		offiziellen Ting-Buch genutzt wird. Tingeltangel unterst&uuml;tzt Dich dabei eine freie Media-ID f&uuml;r ein eigenes Buch zu finden.<br/>
		<br/>
		<b>Objekt-IDs</b><br/>
		Objekt-IDs liegen in dem Bereich 15001-65535. Von einigen offiziellen B&uuml;chern wird auch die ID 15000 &quot;genutzt&quot;.
		Das ist nicht zu empfehlen und kann zu unerw&uuml;nschtem Verhalten f&uuml;hren.

		
		<a name="create_book"><h2>Beispiel: Eigenes Buch erstellen</h2></a>
		W&auml;hle im Men&uuml; &quot;Buch&quot;->&quot;Neu&quot; aus. W&auml;hle eine der angezeigten IDs aus und klicke auf &quot;OK&quot;.
		Im rechten Teil des Bildschirms k&ouml;nnen einige Meta-Daten zu dem Buch angegeben werden.
		<table border="1">
			<tr>
				<td>ID</td>
				<td>Die Buch-ID (MID) (kann mit einem Klick ge&auml;ndert werden)</td>
			</tr>
			<tr>
				<td>Name</td>
				<td>Buchname</td>
			</tr>
			<tr>
				<td>Verleger</td>
				<td>Verleger</td>
			</tr>
			<tr>
				<td>Autor</td>
				<td>Autor</td>
			</tr>
			<tr>
				<td>Version</td>
				<td>Versionsnummer (f&uuml;r eigene B&uuml;cher kann hier immer eine 1 stehen)</td>
			</tr>
			<tr>
				<td>URL</td>
				<td>Eine beliebige Webadresse</td>
			</tr>
			<tr>
				<td>?</td>
				<td>Unbekannter Zahlwert (sollte auf 11 stehen)</td>
			</tr>
			<tr>
				<td>Datum</td>
				<td>Erstellungsdatum des Buchs (kann nicht ge&auml;ndert werden)</td>
			</tr>
		</table>
		<br/>
		Desweiteren kann das Buchcover mit einem Klick auf &quot;Sample&quot; ausgewechselt werden.
		Das Cover muss als PNG-Datei vorliegen und sollte eine Gr&ouml;&szlig;e von 140 mal 193 Pixel haben.<br/>
		<br/>
		Nun f&uuml;gen wir ein paar Tracks, also Objekt-IDs hinzu. Hierzu muss man rechts oben die Anzahl der gew&uuml;nschten
		IDs eintragen (z.B. 3) und die Start ID angeben. Der Vorausgew&auml;hlte Wert von 15001 (erste nutzbare Objekt-ID) gen&uuml;gt.
		Danach klickt man auf &quot;hinzuf&uuml;gen&quot;.<br/>
		<br/>
		F&uuml;ge nun f&uuml;r die Eintr&auml;ge unterschiedliche MP3s durch Klicks auf das &quot;Eject&quot; Symbol (<img src="%%eject.png%%"/>) hinzu.
		Nun ist es Zeit das Buch mit der Men&uuml;auswahl &quot;Buch&quot;->&quot;Speichern&quot; zu speichern.
		Jetzt kann man den Ting-Stift mit dem Rechner verbinden und warten bis rechts der Button &quot;deployen&quot; anw&auml;hlbar ist.
		Bei einem Klick auf &quot;deployen&quot; wird das Buch generiert und auf den Stift kopiert.
		Der Stift kann nun wieder entfernt werden (Vorsicht: Der Stift muss &quot;sicher&quot; entfernt werden).<br/>
		<br/>
		Jetzt w&auml;hlt man im Men&uuml; unter &quot;Buch&quot;->&quot;Booklet generieren&quot; aus und speichert das Booklet ab.
		Das resultierende PostScript File (.ps) kann nun auf einem Drucker mit mindestens 600dpi ausgedruckt werden.

		<a name="entry"><h2>Objekt Eintrag</h2></a>
		<table border="1">
			<tr>
				<td>
					<img src="%%mp3.png%%"> MP3<br/>
					<img src="%%code.png%%"> Skript<br/>
					<img src="%%sub.png%%"> Skript (Unterroutine)<br/>
					<img src="%%tts.png%%"> TTS (Text-To-Speach)
				</td>
				<td>Zeigt den Typ des Eintrags an. Mit einem Klick aus das Symbol kann er ge&auml;ndert werden</td>
			</tr>
			<tr>
				<td><img src="%%delete.png%%"></td>
				<td>L&ouml;scht diesen Eintrag</td>
			</tr>
			<tr>
				<td><img src="%%play.png%%"></td>
				<td>Spielt diesen Eintrag ab</td>
			</tr>
			<tr>
				<td><img src="%%eject.png%%"></td>
				<td>&Auml;ndert das MP3 zu diesem Eintrag</td>
			</tr>
			<tr>
				<td><img src="%%compile.png%%"></td>
				<td>Kompiliert diesen Eintrag</td>
			</tr>
			<tr>
				<td><img src="%%save-code.png%%"></td>
				<td>Speichert den Ting-Code als PNG</td>
			</tr>
			<tr>
				<td><img src="%%copy-code.png%%"></td>
				<td>Kopiert den Ting-Code in die Zwischenablage</td>
			</tr>
			<tr>
				<td><img src="%%save-mp3.png%%"></td>
				<td>speichert das MP3</td>
			</tr>
			<tr>
				<td>Code</td>
				<td>gibt an, ob ein Code f&uuml;r diesen eintrag erstellt werden soll</td>
			</tr>
		</table>
		<br/>
		Die Textbox unter den Icons hat je nach Typ des Eintrags eine andere Bedeutung.
		<table border="1">
			<tr>
				<td>MP3</td>
				<td>Frei w&auml;barer Text (z.B. Traskript des MP3s)</td>
			</tr>
			<tr>
				<td>Skript / Unterroutine</td>
				<td>Der Code</td>
			</tr>
			<tr>
				<td>TTS</td>
				<td>Der vorzulesende Text</td>
			</tr>
		</table>
		
		<a name="window_right"><h2>Rechte Fensterseite</h2></a>
		
		<table border="1">
			<tr>
				<td><img src="%%skip.png%%"> Skip</td>
				<td>&Uuml;berspringt diesen Track</td>
			</tr>
			<tr>
				<td><img src="%%stop.png%%"> Stop</td>
				<td>Beendet das Playback</td>
			</tr>
		</table>

		<a name="menu"><h2>Men&uuml;</h2></a>
		<b>Buch</b>
		<table border="1">
			<tr>
				<td>Neu</td>
				<td>Erstellt ein neues Buch</td>
			</tr>
			<tr>
				<td>Laden</td>
				<td>LÃ¤dt ein Buch</td>
			</tr>
			<tr>
				<td>Importieren</td>
				<td>
                                    <table border="1">
                                        <tr>
                                            <td>manuell</td>
                                            <td>Importieren von ouf/src Dateien</td>
                                        </tr>
                                        <tr>
                                            <td>Repository</td>
                                            <td>Importieren von offiziellen Ting-Servern</td>
                                        </tr>
                                        <tr>
                                            <td>yaml (tiptoi)</td>
                                            <td></td>
                                        </tr>
                                        <tr>
                                            <td>Wimmelbuch</td>
                                            <td>wimmelbuch import (siehe https://www.ting-el-tangel.de/doku.php?id=wimmelbuch_import)</td>
                                        </tr>
                                    </table>
                                </td>
			</tr>
			<tr>
				<td>Speichern</td>
				<td>Speichert das aktuelle Buch</td>
			</tr>
			<tr>
				<td>Generieren</td>
				<td>Generiert das aktuelle Buch zum mauellen kopieren auf den Ting-stift</td>
			</tr>
			<tr>
				<td>alle MP3s als zip herunterladen</td>
				<td>speichert alle MP3s des aktuellen Buches</td>
			</tr>
			<tr>
				<td>Alle Codes generieren</td>
				<td>speichert alle Codes des aktuellen Buches</td>
			</tr>
			<tr>
				<td>Beenden</td>
				<td>beendet das Tingeltangel-Tool</td>
			</tr>
		</table>
		<b>Aktionen</b>
		<table border="1">
			<tr>
				<td>B&uuml;cherliste aktualisieren</td>
                                <td>sucht nach neuen/unbekannten B&uuml;chern auf den Ting-Servern</td>
			</tr>
			<tr>
				<td>B&uuml;cher aktualisieren</td>
				<td>aktualisiert heruntergeladene Bucher</td>
			</tr>
			<tr>
				<td>Buch l&ouml;schen</td>
				<td>l&ouml;scht ein Buch</td>
			</tr>
			<tr>
				<td>B&uuml;cherliste aufr&auml;umen</td>
				<td>l&ouml;scht heruntergeladene B&uuml;cher um Speicherplatz zu sparen</td>
			</tr>
			<tr>
				<td>CLI Skript ausf&uuml;hren</td>
				<td>f&uuml;hrt ein CLI Skript aus</td>
			</tr>
		</table>
		<b>Einstellungen</b>
		<table border="1">
			<tr>
				<td>externe Programme</td>
				<td>
                                    Konfiguration externer Programme (espeak, lame, avconv). Diese externen Programme
                                    werden nur ben&ouml;tigt wenn TTS (Text-to-Speach) oder der yaml Import genutzt werden soll.
                                </td>
			</tr>
			<tr>
				<td>TTS</td>
				<td>Text-to-Speach konfiguration (siehe https://www.ting-el-tangel.de/ext/install.html)</td>
			</tr>
			<tr>
				<td>Codes</td>
				<td>Konfiguration der Codes f&uuml;r einen bestimmten drucker (siehe https://www.ting-el-tangel.de/doku.php?id=drucken)</td>
			</tr>
		</table>
		<b>Codes</b>
		<table border="1">
			<tr>
				<td>Ting-IDs</td>
				<td>
                                    <table border="1">
                                        <tr>
                                            <td>Media IDs (MIDs)</td>
                                            <td>Erstellen von Test-Codes</td>
                                        </tr>
                                        <tr>
                                            <td>Commercial IDs (CIDs)</td>
                                            <td>Erstellen von Test-Codes</td>
                                        </tr>
                                        <tr>
                                            <td>Object IDs (OIDs)</td>
                                            <td>Erstellen von Test-Codes</td>
                                        </tr>
                                    </table>
                                </td>
			</tr>
			<tr>
				<td>Code-IDs</td>
				<td></td>
			</tr>
			<tr>
				<td>Tabelle Erstellen</td>
				<td>
                                    <table border="1">
                                        <tr>
                                            <td>Ting-ID -&gt; Code-ID</td>
                                            <td>Erstellt eine &Uuml;bersetzungstabelle von Ting-IDs nach Code-IDs</td>
                                        </tr>
                                        <tr>
                                            <td>Code-ID -&gt; Ting-ID</td>
                                            <td>Erstellt eine &Uuml;bersetzungstabelle von Code-IDs nach Ting-IDs</td>
                                        </tr>
                                    </table>
                                </td>
			</tr>
		</table>
		<b>Informationen</b>
		<table border="1">
			<tr>
				<td>Handbuch</td>
				<td>&ouml;ffnet dieses Handbuch</td>
			</tr>
			<tr>
				<td>Kontakt</td>
				<td>Kontaktdaten</td>
			</tr>
			<tr>
				<td>Lizenz</td>
				<td>Die Lizenz</td>
			</tr>
		</table>

		<a name="scripts"><h2>Skripte</h2></a>

		<b>offizielle Befehle</b>
		<table border="1">
			<tr>
				<td>end</td>
				<td>Beendet das Skript</td>
			</tr>
			<tr>
				<td>clearver</td>
				<td>L&ouml;scht alle Register</td>
			</tr>
			<tr>
				<td>set [Register] [Value|Register]</td>
				<td>arg1 := arg2</td>
			</tr>
			<tr>
				<td>cmp [Register] [Value|Register]</td>
				<td>Vergleich zweier Werte</td>
			</tr>
			<tr>
				<td>and [Register] [Value|Register]</td>
				<td>arg1 := arg1 & arg2 (Bin&auml;res-Und)</td>
			</tr>
			<tr>
				<td>or [Register] [Value|Register]</td>
				<td>arg1 := arg1 | arg2 (Bin&auml;res-Oder)</td>
			</tr>
			<tr>
				<td>not [Register]</td>
				<td>arg1 := ^arg1 (Bin&auml;res-Nicht)</td>
			</tr>
			<tr>
				<td>jmp [Label]</td>
				<td>Sprung ohne Bedingung</td>
			</tr>
			<tr>
				<td>je [Label]</td>
				<td>Sprung, wenn letzter cmd Vergleich: arg1 == arg2</td>
			</tr>
			<tr>
				<td>jne [Label]</td>
				<td>Sprung, wenn letzter cmd Vergleich: arg1 != arg2</td>
			</tr>
			<tr>
				<td>jg [Label]</td>
				<td>Sprung, wenn letzter cmd Vergleich: arg1 &gt; arg2</td>
			</tr>
			<tr>
				<td>jge [Label]</td>
				<td>Sprung, wenn letzter cmd Vergleich: arg1 &gt;= arg2</td>
			</tr>
			<tr>
				<td>jb [Label]</td>
				<td>Sprung, wenn letzter cmd Vergleich: arg1 &lt; arg2</td>
			</tr>
			<tr>
				<td>jbe [Label]</td>
				<td>Sprung, wenn letzter cmd Vergleich: arg1 &lt;= arg2</td>
			</tr>
			<tr>
				<td>add [Register] [Value|Register]</td>
				<td>arg1 := arg1 + arg2</td>
			</tr>
			<tr>
				<td>sub [Register] [Value|Register]</td>
				<td>arg1 := arg1 - arg2</td>
			</tr>
			<tr>
				<td>playoid [Value|Register]</td>
				<td>Spielt das MP3 mit der gegebenen OID ab</td>
			</tr>
			<tr>
				<td>pause [Value|Register]</td>
				<td>Pausiert f&uuml;r n zehntel Sekunden</td>
			</tr>
			<tr>
				<td>call [Value]</td>
				<td>Ruft eine subroutine auf</td>
			</tr>
			<tr>
				<td>return</td>
				<td>R&uuml;ckkehr von einer Subroutine</td>
			</tr>
		</table>
		<br/>
		<b>inoffizielle Befehle</b>
		<table border="1">
			<tr>
				<td>callid [Value]</td>
				<td>Entspricht einer Auswahl der Ting-ID mit dem Stift. Wenn man hier eine MID angibt, kann man auch das aktuelle Buch wechseln.</td>
			</tr>
			<tr>
				<td>mul [Register] [Register|Value]</td>
				<td>arg1 := arg1 * arg2</td>
			</tr>
			<tr>
				<td>div [Register] [Register|Value]</td>
				<td>arg1 := arg1 / arg2</td>
			</tr>
			<tr>
				<td>mod [Register] [Register|Value]</td>
				<td>arg1 := arg1 mod arg2</td>
			</tr>
			<tr>
				<td>divmod [Register] [Register]</td>
				<td>
					help := arg1<br/>
					arg1 := arg1 / arg2<br/>
					arg2 := help mod arg2
				</td>
			</tr>
			<tr>
				<td>min [Register] [Register|Value]</td>
				<td>arg1 := min(arg1, arg2)</td>
			</tr>
			<tr>
				<td>max [Register] [Register|Value]</td>
				<td>arg1 := max(arg1, arg2)</td>
			</tr>
			<tr>
				<td>exp2 [Register]</td>
				<td>arg1 := 2 ^ arg1</td>
			</tr>
			<tr>
				<td>rnd [Register] [Register|Value]</td>
				<td>arg1 wird auf einen zuf&auml;lligen Wert zw. 0 (inclusive) und arg1 (inclusive) gesetzt</td>
			</tr>
                        <tr>
                                <td>volume [Register|Value]</td>
                                <td>setzt die Stiftlautst&auml;rke (1-20)</td>
                        </tr>
                        <tr>
                                <td>lastid [Register]</td>
                                <td>arg1 = &quot;letzte angew&auml;hlte Ting-OID&quot;</td>
                        </tr>
                        <tr>
                                <td>lang [Register]</td>
                                <td>arg1 = &quot;Sprachcode&quot;</td>
                        </tr>
                        <tr>
                                <td>setbit [Register] [Register|Value]</td>
                                <td>setzt das arg2-te Bit im Register arg1 auf 1</td>
                        </tr>
                        <tr>
                                <td>unsetbit [Register] [Register|Value]</td>
                                <td>setzt das arg2-te Bit im Register arg1 auf 0</td>
                        </tr>
                        <tr>
                                <td>getbit [Register] [Register|Value] [Register|Value]</td>
                                <td>arg1 = 1 wenn das arg3-te Bit von arg2 auf 1 gesetzt ist, ansonsten 0</td>
                        </tr>
                        <tr>
                                <td>lock</td>
                                <td>Sperrt die Auswahl neuer Codes w&auml;hrend ein Tack abspielt</td>
                        </tr>
                        <tr>
                                <td>unlock</td>
                                <td>
                                    Erlaubt die Auswahl neuer Codes w&auml;hrend ein Tack abspielt.
                                    Der aktuelle Track wird dann abgebrochen.
                                </td>
                        </tr>
		</table>
		<br/>
		Alle &quot;Value&quot;-Parameter sind in den offiziellen B&uuml;chern als Dezimalzahlen angegeben. Bei Tingeltangel ist
		es alternativ m&ouml;glich diese Werte als Hexadezimalzahlen anzugeben. Hierzu muss dem Wert ein 0x vorangestellt werden.
		<br/>
		<br/>
		<b>Register</b>
		<table border="1">
			<tr>
				<td>V0 - V91</td>
				<td>Speicherregister (read + write)</td>
			</tr>
			<tr>
				<td>V92</td>
				<td>lock ?</td>
			</tr>
			<tr>
				<td>V93</td>
				<td>Sprachcode (siehe unten) (read)</td>
			</tr>
			<tr>
				<td>V94</td>
				<td>Volume (2-20) (write)</td>
			</tr>
			<tr>
				<td>V95</td>
				<td>Lezter mit dem Stift angew&auml;hlter Code (read)</td>
			</tr>
			<tr>
				<td>V96</td>
				<td>?</td>
			</tr>
			<tr>
				<td>V97</td>
				<td>? (Interrupt)</td>
			</tr>
			<tr>
				<td>V98</td>
				<td>zuf&auml;lliger Wert (0 bis 0x7FFF) (read)</td>
			</tr>
			<tr>
				<td>V99</td>
				<td>?</td>
			</tr>
			<tr>
				<td>V100 - ?</td>
				<td>?</td>
			</tr>
		</table>
		<br/>
		<b>Sprachcodes</b>
		<table border="1">
			<tr>
				<td>20</td>
				<td>englisch ?</td>
			</tr>
			<tr>
				<td>33</td>
				<td>franz&ouml;sisch</td>
			</tr>
			<tr>
				<td>34</td>
				<td>?</td>
			</tr>
			<tr>
				<td>35</td>
				<td>?</td>
			</tr>
			<tr>
				<td>44</td>
				<td>englisch</td>
			</tr>
			<tr>
				<td>49</td>
				<td>deutsch</td>
			</tr>
			<tr>
				<td>55</td>
				<td>?</td>
			</tr>
			<tr>
				<td>86</td>
				<td>chinesisch</td>
			</tr>
			<tr>
				<td>90</td>
				<td>?</td>
			</tr>
			<tr>
				<td>99</td>
				<td>?</td>
			</tr>
		</table>
		<br/>
		<br/>
	</body>
</html>
